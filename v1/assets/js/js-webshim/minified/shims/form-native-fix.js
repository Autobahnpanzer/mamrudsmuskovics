jQuery.webshims.register("form-native-fix",function(b,d,f,g,p){if(Modernizr.formvalidation&&!Modernizr.bugfreeformvalidation&&!d.bugs.bustedValidity){var i=b.browser.webkit,o=i&&534.4>=d.browserVersion,q=o?"input:invalid-element, select:invalid-element, textarea:invalid-element":":invalid",k=[],h,l;if(f.addEventListener){var m=p,n=!1;f.addEventListener("submit",function(c){if(!n&&c.target.checkValidity&&null==b.attr(c.target,"novalidate")&&(b(q,c.target).length&&(b(c.target).unbind("submit.preventInvalidSubmit").bind("submit.preventInvalidSubmit",
function(a){null==b.attr(c.target,"novalidate")&&(a.stopImmediatePropagation(),i&&a.preventDefault());c.target&&b(c.target).unbind("submit.preventInvalidSubmit")}),d.moveToFirstEvent(c.target,"submit")),!f.opera))d.fromSubmit=!0,b(c.target).checkValidity(),d.fromSubmit=!1},!0);g=function(c){null!=b.attr(c.target,"formnovalidate")&&(m&&clearTimeout(m),n=!0,m=setTimeout(function(){n=!1},20))};f.addEventListener("click",g,!0);f.addEventListener("touchstart",g,!0);f.addEventListener("touchend",g,!0)}b(document).bind("firstinvalidsystem",
function(b,a){if(l=a.form)h=!1,k=[],d.fromSubmit&&(h=a)}).bind("invalid",function(b){-1==k.indexOf(b.target)?k.push(b.target):b.stopImmediatePropagation()}).bind("lastinvalid",function(c,a){var j=a.invalidlist[0];j&&(i||!Modernizr.requiredSelect&&b.nodeName(j,"select"))&&document.activeElement&&j!==document.activeElement&&h&&!h.isInvalidUIPrevented()&&d.validityAlert.showFor(j);h=!1;k=[];l&&b(l).unbind("submit.preventInvalidSubmit")});(function(){o&&(["input","textarea","select"].forEach(function(c){var a=
d.defineNodeNameProperty(c,"checkValidity",{prop:{value:function(){if(!this.willValidate)return!0;var c=(b.prop(this,"validity")||{valid:!0}).valid;d.fromCheckValidity=!0;!c&&a.prop._supvalue&&a.prop._supvalue.call(this)&&b(this).trigger("invalid");d.fromCheckValidity=!1;return c}}})}),d.defineNodeNameProperty("form","checkValidity",{prop:{value:function(){var c=!0;b(this.elements||[]).getNativeElement().each(function(){!1===b(this).checkValidity()&&(c=!1)});return c}}}))})();Modernizr.requiredSelect||
d.ready("form-extend",function(){d.addValidityRule("valueMissing",function(c,a,j,d){if("select"==j.nodeName&&!a&&c.prop("required")){if(!j.type)j.type=c[0].type;if(a=!a)if(!(a=0>c[0].selectedIndex))c=c[0],a="select-one"==c.type&&2>c.size?b("> option:first-child",c).prop("selected"):!1;if(a)return!0}return d.valueMissing});d.defineNodeNamesBooleanProperty(["select"],"required",{set:function(c){this.setAttribute("aria-required",c?"true":"false");b.prop(this,"validity")},initAttr:!0})});"formTarget"in
document.createElement("input")||function(){var c={submit:1,button:1,image:1},a={};[{name:"enctype",limitedTo:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},defaultProp:"application/x-www-form-urlencoded",proptype:"enum"},{name:"method",limitedTo:{get:1,post:1},defaultProp:"get",proptype:"enum"},{name:"action",proptype:"url"},{name:"target"}].forEach(function(d){var f="form"+(d.propName||d.name).replace(/^[a-z]/,function(b){return b.toUpperCase()}),e="form"+d.name,
h=d.name,g="click.webshimssubmittermutate"+h,k=function(){if("form"in this&&c[this.type]){var a=b.prop(this,"form");if(a){var g=b.attr(this,e);if(null!=g&&(!d.limitedTo||g.toLowerCase()===b.prop(this,f))){var i=b.attr(a,h);b.attr(a,h,g);setTimeout(function(){null!=i?b.attr(a,h,i):b(a).removeAttr(h)},9)}}}};switch(d.proptype){case "url":var i=document.createElement("form");a[f]={prop:{set:function(a){b.attr(this,e,a)},get:function(){var a=b.attr(this,e);if(null==a)return"";i.setAttribute("action",
a);return i.action}}};break;case "boolean":a[f]={prop:{set:function(a){a?b.attr(this,"formnovalidate","formnovalidate"):b(this).removeAttr("formnovalidate")},get:function(){return null!=b.attr(this,"formnovalidate")}}};break;case "enum":a[f]={prop:{set:function(a){b.attr(this,e,a)},get:function(){var a=b.attr(this,e);return!a||(a=a.toLowerCase())&&!d.limitedTo[a]?d.defaultProp:a}}};break;default:a[f]={prop:{set:function(a){b.attr(this,e,a)},get:function(){var a=b.attr(this,e);return null!=a?a:""}}}}a[e]||
(a[e]={});a[e].attr={set:function(c){a[e].attr._supset.call(this,c);b(this).unbind(g).bind(g,k)},get:function(){return a[e].attr._supget.call(this)}};a[e].initAttr=!0;a[e].removeAttr={value:function(){b(this).unbind(g);a[e].removeAttr._supvalue.call(this)}}});d.defineNodeNamesProperties(["input","button"],a)}()}});
